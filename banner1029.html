<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <script type="text/javascript" src="../js/jquery-1.11.3.min.js"></script>
    <title>Document</title>
    <script type="text/javascript" src="../js/jquery-1.11.3.min.js"></script>
    <script>
    $(document).ready(function(){

        var idx=[];

        $('.banner').each(function(i,e){//배너의 갯수 파악
            //$(e).attr('id',"number"+i)//class/id는 숫자로 시작하면 안된다
            $(e).attr('date-rol-num',i);
            //익스플로 7이하는 안됨 임의속성, 태그 혼합 5는 상관없다 xhtml(xml규칙을 따름)

            // var aa = $(e).attr('id',$(e).attr('id').replace('number',''))//id바꿔주기
            // $(e).attr('id',aa)

            idx.push(0)

        })

        // var interval=setInterval(function(){
        //     $('.next').trigger('click')
        // },3000)

        function movement(start,end,index,select){
            select.find('li').eq(index)
                .addClass('on')
                .children('div').css({
                    'display':'block',
                    'left':start
                }).animate({
                    'left':end
                }).parent('li').siblings().removeClass('on')

                // if(idx==$('.banner li').size()){
                //     idx=0
                //     movement('100%',0,idx)
                //     }
                //     else if(idx<0){
                //     idx=$('.banner li').size()-1
                //     movement('-100%',0,idx)
                //     }

        }//movement end

        $('.next').click(function(){
            var $this=$(this).parents('.banner');//$를 붙이는 이유는 선택자라는 의미
            var n=$this.index()
            movement(0,'-100%',idx[n],$this);
            idx[n]++
            movement('100%',0,idx[n],$this);
        })//next click end

        $('.prev').click(function(){
            movement(0,'100%',idx[n],$this);
            idx[n]--
            movement('-100%',0,idx[n],$this);
        })//prev click end






        $('.banner li a').click(function(){
            // var hisidx=$('.banner li.on').index();
            var tg = $(this).parents('.banner')
            var n = $(this).parents('.banner').index();
            var sn = $(this).parent().index();
            var hisNum = idx[n];//클릭전 넘버
            idx[n]=sn;//현재 누른번호
            var realNum = idx[n];//현재누른 번호를 realNum 넣어줌
            if(hisNum<realNum){
                movement(0,'-100%',hisNum,tg)
                movement('100%',0,idx[n],tg)
            }else if(hisNum>realNum){
                movement(0,'100%',hisNum,tg)
                movement('-100%',0,idx[n],tg)

            }




        })





    })//end



    </script>

    <style>

    *{margin:0; padding:0;}
    ul{list-style: none;}

    .banner{width:700px; margin:0 auto; position:relative}
    .banner ul{width: 600px;height: 338px; overflow:hidden; position:relative; text-align:center; margin: 0 auto;}
    .banner ul li {display:inline-block;}
    .banner ul li a{position:relative; z-index: 1;  font-size:20px; color:#FFF}
    .banner ul li:first-child div{display: block;}
    .banner ul li div{position:absolute; left:0; top:0; display:none;}
    .banner ul li.on a{color:#F00;}
    .banner button{position: absolute; top: 50%;}
    .banner button.next{right:0}
    .banner button.prev{left:0}


    </style>
</head>
<body>

    <div class="banner">

        <button class="next">next</button>
        <button class="prev">prev</button>

        <ul>
            <li class="on">
                <a href="javascript:void(0)">1</a>
                <!-- /*javascript:void(0) return false 기능을 한다   void(0)= false 기능 */ -->
                <div><img src="images/winner.png" alt=""></div>
            </li>
            <li>
                <a href="javascript:void(0)">2</a>
                <div><img src="images/winner.png" alt=""></div>
            </li>
            <li>
                <a href="javascript:void(0)">3</a>
                <div><img src="images/winner.png" alt=""></div>
            </li>
            <li>
                <a href="javascript:void(0)">4</a>
                <div><img src="images/winner.png" alt=""></div>
            </li>
        </ul>
    </div>

    <div class="banner">

        <button class="next">next</button>
        <button class="prev">prev</button>

        <ul>
            <li class="on">
                <a href="javascript:void(0)">1</a>
                <!-- /*javascript:void(0) return false 기능을 한다   void(0)= false 기능 */ -->
                <div><img src="images/winner.png" alt=""></div>
            </li>
            <li>
                <a href="javascript:void(0)">2</a>
                <div><img src="images/winner.png" alt=""></div>
            </li>
            <li>
                <a href="javascript:void(0)">3</a>
                <div><img src="images/winner.png" alt=""></div>
            </li>
            <li>
                <a href="javascript:void(0)">4</a>
                <div><img src="images/winner.png" alt=""></div>
            </li>
            <li>
                <a href="javascript:void(0)">5</a>
                <div><img src="images/winner.png" alt=""></div>
            </li>
            <li>
                <a href="javascript:void(0)">6</a>
                <div><img src="images/winner.png" alt=""></div>
            </li>
        </ul>
    </div>

    <div class="banner">

        <button class="next">next</button>
        <button class="prev">prev</button>

        <ul>
            <li class="on">
                <a href="javascript:void(0)">1</a>
                <!-- /*javascript:void(0) return false 기능을 한다   void(0)= false 기능 */ -->
                <div><img src="images/winner.png" alt=""></div>
            </li>
            <li>
                <a href="javascript:void(0)">2</a>
                <div><img src="images/winner.png" alt=""></div>
            </li>
            <li>
                <a href="javascript:void(0)">3</a>
                <div><img src="images/winner.png" alt=""></div>
            </li>
            <li>
                <a href="javascript:void(0)">4</a>
                <div><img src="images/winner.png" alt=""></div>
            </li>
            <li>
                <a href="javascript:void(0)">5</a>
                <div><img src="images/winner.png" alt=""></div>
            </li>
            <li>
                <a href="javascript:void(0)">6</a>
                <div><img src="images/winner.png" alt=""></div>
            </li>
            <li>
                <a href="javascript:void(0)">7</a>
                <div><img src="images/winner.png" alt=""></div>
            </li>
        </ul>
    </div>



</body>
</html>
